# ğŸ‰ å‰åç«¯è”è°ƒæŒ‡å—

## âœ… è”è°ƒå®Œæˆ

å·²æˆåŠŸå°†å‰ç«¯å’Œåç«¯è”è°ƒï¼Œç°åœ¨å¯ä»¥å¼€å§‹æµ‹è¯•æ•´ä¸ªç™»å½•æµç¨‹ã€‚

---

## ğŸš€ å¿«é€Ÿæµ‹è¯•

### 1. åç«¯æœåŠ¡

- **URL**: http://localhost:8000
- **APIæ–‡æ¡£**: http://localhost:8000/api/v1/docs
- **çŠ¶æ€**: âœ… è¿è¡Œä¸­

### 2. å‰ç«¯æœåŠ¡

- **URL**: http://localhost:8849 (æˆ– http://localhost:8848)
- **çŠ¶æ€**: âœ… è¿è¡Œä¸­

### 3. ä»£ç†é…ç½®

å·²é…ç½® Vite ä»£ç†ï¼Œæ‰€æœ‰ `/api/*` è¯·æ±‚éƒ½ä¼šè½¬å‘ `http://localhost:8000`

---

## ğŸ“‹ ä¿®æ”¹å†…å®¹

### åç«¯ä¿®æ”¹

- âœ… åˆ›å»º `server/routes/routes.py` - å¼‚æ­¥è·¯ç”±ç«¯ç‚¹
- âœ… æ›´æ–° `server/main.py` - åŒ…å«æ–°è·¯ç”±

### å‰ç«¯ä¿®æ”¹

- âœ… æ›´æ–° `web/vite.config.ts` - æ·»åŠ  `/api` ä»£ç†
- âœ… æ›´æ–° `web/src/api/user.ts` - ä¿®æ”¹ç™»å½•æ¥å£ä¸º `/api/v1/auth/login`
- âœ… æ›´æ–° `web/src/api/routes.ts` - ä¿®æ”¹è·¯ç”±æ¥å£ä¸º `/api/v1/routes/async`
- âœ… æ›´æ–° `web/src/utils/http/index.ts` - æ›´æ–°ç™½åå• URL

---

## ğŸ§ª æµ‹è¯•æµç¨‹

### æ­¥éª¤ 1ï¼šè®¿é—®ç™»å½•é¡µé¢

```
http://localhost:8849/login
```

### æ­¥éª¤ 2ï¼šä½¿ç”¨é»˜è®¤è´¦å·ç™»å½•

| è´¦å·   | å¯†ç       | è§’è‰²   |
| ------ | --------- | ------ |
| admin  | admin123  | ç®¡ç†å‘˜ |
| editor | editor123 | ç¼–è¾‘è€… |
| viewer | viewer123 | è®¿å®¢   |

### æ­¥éª¤ 3ï¼šæŸ¥çœ‹ç™»å½•ç»“æœ

- ç™»å½•æˆåŠŸååº”è¯¥çœ‹åˆ° âœ… "ç™»å½•æˆåŠŸ" æç¤º
- ç³»ç»Ÿä¼šè‡ªåŠ¨è·³è½¬åˆ°ä»ªè¡¨æ¿
- Token ä¼šè¢«ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨

---

## ğŸ” è°ƒè¯•æŠ€å·§

### æŸ¥çœ‹æµè§ˆå™¨ç½‘ç»œè¯·æ±‚

1. æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…· (F12)
2. åˆ‡æ¢åˆ° **Network** æ ‡ç­¾
3. æŸ¥çœ‹ `/api/v1/auth/login` è¯·æ±‚
4. ç¡®è®¤è¯·æ±‚æ­£ç¡®å‘é€åˆ°åç«¯

### æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°

1. æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…· (F12)
2. åˆ‡æ¢åˆ° **Console** æ ‡ç­¾
3. æŸ¥çœ‹æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯

### æŸ¥çœ‹åç«¯æ—¥å¿—

åç«¯ terminal ä¼šè¾“å‡ºæ‰€æœ‰ SQL æ“ä½œå’Œ HTTP è¯·æ±‚æ—¥å¿—ï¼š

```
2026-01-22 00:13:30 INFO Uvicorn running on http://0.0.0.0:8000
2026-01-22 00:13:30 INFO Started server process
```

---

## ğŸ› å¸¸è§é—®é¢˜æ’æŸ¥

### é—®é¢˜ 1ï¼šCORS é”™è¯¯

**ç—‡çŠ¶**: æµè§ˆå™¨æ§åˆ¶å°æ˜¾ç¤º "Access to XMLHttpRequest blocked by CORS policy"

**è§£å†³æ–¹æ¡ˆ**:

- ç¡®ä¿åç«¯çš„ CORS é…ç½®åŒ…å«å‰ç«¯åœ°å€
- æ£€æŸ¥ `server/config.py` çš„ `CORS_ORIGINS`

```python
CORS_ORIGINS: list = ["http://localhost:5173", "http://localhost:8848", "http://localhost:8849"]
```

### é—®é¢˜ 2ï¼š404 é”™è¯¯

**ç—‡çŠ¶**: ç½‘ç»œè¯·æ±‚è¿”å› 404ï¼Œè¯´æ‰¾ä¸åˆ°æ¥å£

**è§£å†³æ–¹æ¡ˆ**:

- ç¡®ä¿ API è·¯å¾„æ­£ç¡®ï¼š`/api/v1/auth/login`
- ç¡®ä¿åç«¯è·¯ç”±å·²æ³¨å†Œ
- ç¡®ä¿ vite ä»£ç†é…ç½®æ­£ç¡®

### é—®é¢˜ 3ï¼šç™»å½•åç«‹å³è·³è½¬åˆ°ç™»å½•é¡µ

**ç—‡çŠ¶**: ç™»å½•æˆåŠŸåï¼Œç³»ç»Ÿè‡ªåŠ¨é‡å®šå‘å›ç™»å½•é¡µ

**è§£å†³æ–¹æ¡ˆ**:

- æ£€æŸ¥ token æ˜¯å¦æ­£ç¡®ä¿å­˜
- æŸ¥çœ‹æµè§ˆå™¨ Application -> Local Storageï¼Œç¡®è®¤ `__pure_admin_token__` å­˜åœ¨
- æ£€æŸ¥ `/api/v1/routes/async` æ˜¯å¦è¿”å›æ­£ç¡®çš„æ•°æ®

### é—®é¢˜ 4ï¼šåˆ·æ–°é¡µé¢åç™»å½•ä¿¡æ¯ä¸¢å¤±

**ç—‡çŠ¶**: åˆ·æ–°é¡µé¢åéœ€è¦é‡æ–°ç™»å½•

**è§£å†³æ–¹æ¡ˆ**:

- è¿™æ˜¯æ­£å¸¸çš„ï¼Œå‰ç«¯éœ€è¦å®ç° token æ£€éªŒæœºåˆ¶
- å¯ä»¥ä¿®æ”¹ `web/src/store/modules/user.ts` æ·»åŠ å¯åŠ¨æ—¶æ£€æŸ¥ token çš„é€»è¾‘

---

## ğŸ“Š API æµ‹è¯•

### ä½¿ç”¨ Swagger UI æµ‹è¯•

```
http://localhost:8000/api/v1/docs
```

### ä½¿ç”¨ curl æµ‹è¯•

```bash
# ç™»å½•
curl -X POST http://localhost:8000/api/v1/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"admin123"}'

# åˆ·æ–° token
curl -X POST http://localhost:8000/api/v1/auth/refresh-token \
  -H "Content-Type: application/json" \
  -d '{"refreshToken":"your_refresh_token"}'

# è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
curl -X GET http://localhost:8000/api/v1/auth/me \
  -H "Authorization: Bearer your_access_token"
```

---

## ğŸ¯ ä¸‹ä¸€æ­¥

1. **æµ‹è¯•æ‰€æœ‰ä¸‰ä¸ªè§’è‰²** - éªŒè¯ä¸åŒè§’è‰²çš„ç™»å½•å’Œæƒé™
2. **å®ç°æ–‡æ¡£ç®¡ç†** - åˆ›å»ºæ–‡æ¡£ CRUD ç«¯ç‚¹
3. **é›†æˆ AI åŠŸèƒ½** - å®ç° AI è°ƒç”¨æ¥å£
4. **éƒ¨ç½²åˆ°ç”Ÿäº§** - é…ç½® Docker å’Œç”Ÿäº§ç¯å¢ƒ

---

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜ï¼Œè¯·ï¼š

1. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯
2. æŸ¥çœ‹åç«¯æ—¥å¿—è¾“å‡º
3. æ£€æŸ¥ç½‘ç»œè¯·æ±‚ï¼ˆF12 Network æ ‡ç­¾ï¼‰
4. å‚è€ƒæ–‡æ¡£ï¼š[QUICK_START.md](../QUICK_START.md)

---

**è”è°ƒæ—¥æœŸ**: 2026å¹´1æœˆ22æ—¥  
**çŠ¶æ€**: âœ… è”è°ƒå®Œæˆ
